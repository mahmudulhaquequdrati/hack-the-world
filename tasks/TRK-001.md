# TRK-001: Create UserEnrollment Model

**Type**: Model
**Complexity**: Simple
**Priority**: ğŸŸ¡ High
**Status**: ğŸ“‹ Not Started
**Estimated Time**: 2-3 hours
**Dependencies**: API-001
**Due Date**: January 23, 2025

---

## ğŸ“‹ Purpose

Track user enrollment in modules with simplified structure for easy enrollment management.

## ğŸ¯ Requirements

- Create UserEnrollment mongoose model with essential fields only
- Track user enrollment status in modules
- Keep schema simple and focused on enrollment tracking

## ğŸ“Š Optimized Simple Schema

```javascript
{
  userId: String,                // Reference to User
  moduleId: String,              // Reference to Module

  // Simple enrollment tracking
  enrolledAt: Date,              // When user enrolled
  status: String,                // 'active', 'completed', 'paused', 'dropped'

  // Basic progress
  completedSections: Number,     // Number of sections completed
  totalSections: Number,         // Total sections in module
  progressPercentage: Number,    // Calculated progress (0-100)

  // Simple timing
  lastAccessedAt: Date,          // Last time user accessed module
  estimatedCompletionDate: Date  // Estimated completion (optional)
}
```

## âœ… Acceptance Criteria

- [ ] Model created with validation
- [ ] Status enum validation (active/completed/paused/dropped)
- [ ] Progress percentage calculation working
- [ ] User and module relationships working
- [ ] Basic enrollment tracking functional

## ğŸ§ª Testing Requirements

- [ ] Write model tests for all fields
- [ ] Test status validation
- [ ] Test progress calculation
- [ ] Test user/module relationships
- [ ] Test date field validation

## ğŸ“ Implementation Notes

- Keep schema simple - basic enrollment tracking only
- Use enum validation for status field
- Progress percentage auto-calculated from sections
- Include compound index on userId + moduleId for performance
- LastAccessedAt updates automatically on access

## ğŸ”— Related Files

- `server/src/models/UserEnrollment.js` (to be created)
- `server/src/tests/models/userEnrollment.test.js` (to be created)

---

**Last Updated**: January 16, 2025
